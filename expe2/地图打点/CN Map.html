<!DOCTYPE html>
<meta charset="utf-8">

<link rel="stylesheet" href="css/mapcolor.css" />

<body>
	<div id="tooltip"></div>
	<!-- div to hold tooltip. -->
	<!--<svg width="560" height="470" id="statesvg"></svg>-->
	<svg width="800" height="800" id="statesvg"></svg>
	<!-- svg to hold the map. -->
	<!-- creates uStates. -->
	<script type="text/javascript" src="d3/d3.min.js"></script>
	<script type="text/javascript" src="js/china-zh2.js"></script>
	<script>
		function tooltipHtml(n, d) { /* function to create html content string in tooltip div. */
			return "<h4>" + n + "</h4><table>" +
				"<tr><td>Low</td><td>" + (d.low) + "</td></tr>" +
				"<tr><td>Average</td><td>" + (d.avg) + "</td></tr>" +
				"<tr><td>High</td><td>" + (d.high) + "</td></tr>" +
				"</table>";
		}

		var sampleData = {}; /* Sample random data. */
		['JXI', 'LIA', 'TIB', 'NMG', 'SHH', 'CHQ', 'XIN', 'SHD', 'HEN', 'GUD', 'GUI', 'BEJ', 'MAC', 'TAJ', 'HLJ', 'HEB', 'ZHJ', 'ANH', 'GXI', 'HAI', 'JIL', 'SHX', 'HUN', 'YUN', 'FUJ', 'HUB', 'SHA', 'HKG', 'QIH', 'GAN', 'JSU', 'SCH', 'NXA', 'TAI']
		.forEach(function(d) {
			var low = Math.round(100 * Math.random()),
				mid = Math.round(100 * Math.random()),
				high = Math.round(100 * Math.random());
			sampleData[d] = {
				low: d3.min([low, mid, high]),
				high: d3.max([low, mid, high]),
				avg: Math.round((low + mid + high) / 3),
				color: d3.interpolate("#ffffcc", "#800026")(low / 100)
			};
		});

		/* draw states on id #statesvg */
		uStates.draw("#statesvg", sampleData, tooltipHtml);
	</script>

</body>